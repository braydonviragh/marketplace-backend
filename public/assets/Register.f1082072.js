import{I as ke,J as R,aD as de,u as le,c as V,r as f,m as re,Y as ne,aB as Ce,o as x,a as S,d as t,t as T,p as M,f as m,w as C,aI as Ae,aJ as Pe,O as E,j as N,M as ee,q as Ee,s as ce,aK as Te,v as H,Q as O,C as pe,x as Re,_ as oe,ab as Ve,i as q,F as G,e as W,h as Z,ak as ve,n as Le,N as Q,aL as X,g as De,aM as me,aC as Ne,aN as Oe,ac as ze}from"./index.aed2db9c.js";import{Q as $e,_ as Ue}from"./green-logo.f468aeb1.js";import{Q as Be,b as Fe,a as Me}from"./QItemLabel.6796c1fb.js";import{Q as ge}from"./QSelect.1cdf7b41.js";import{Q as j}from"./QInput.52b28155.js";import{Q as Ye}from"./QCardActions.499540f5.js";import"./use-checkbox.4b330bec.js";import"./private.use-form.e6da8665.js";import"./QChip.bb92b358.js";import"./QMenu.2e7dc152.js";import"./selection.ba1a87f1.js";import"./format.8ac60962.js";import"./use-id.1f67328e.js";const te=ke("registration",{state:()=>({currentStep:1,totalSteps:4,accountInfo:{country_code:"+1",phone_number:"",full_phone_number:"",email:"",password:"",password_confirmation:"",terms_accepted:!1},verification:{code:["","","","","",""],verificationId:null,isPhoneVerified:!1,is_verified:!1,token:null},profileInfo:{username:"",name:"",city:"",province_id:null,country_id:null,postal_code:"",profile_picture:null,profile_picture_preview:null,latitude:null,longitude:null,language:"",letter_size_id:null,number_size_id:null,waist_size_id:null,style_id:null},preferences:{style_id:null,letter_size_id:null,number_size_id:null,waist_size_id:null,brands:[],size_preferences:[],notifications:{new_messages:!0,rental_updates:!0,product_matches:!1,marketing:!1}},isLoading:!1,error:null,errorDetails:null,success:null}),getters:{getAccountInfo:l=>l.accountInfo,getVerification:l=>l.verification,getProfileInfo:l=>l.profileInfo,getPreferences:l=>l.preferences,getCurrentStep:l=>l.currentStep,isCurrentStepValid:l=>{switch(l.currentStep){case 1:return l.accountInfo.phone_number.trim()!==""&&l.accountInfo.email.trim()!==""&&l.accountInfo.password.trim()!==""&&l.accountInfo.password===l.accountInfo.password_confirmation&&l.accountInfo.terms_accepted===!0;case 2:return l.verification.code.every(n=>n!=="");case 3:return l.profileInfo.username.trim()!==""&&l.profileInfo.name.trim()!=="";case 4:return l.preferences.style_id!==null;default:return!1}},getFormattedVerificationCode:l=>l.verification.code.join(""),getMaskedPhoneNumber:l=>{const n=l.accountInfo.full_phone_number||l.accountInfo.country_code+l.accountInfo.phone_number.replace(/\D/g,"");if(!n||n.length<8)return n;const a=n.substring(0,2),r=n.substring(2,5);return`${a} ${r}-***-****`},isVerified:l=>l.verification.is_verified},actions:{formatVerificationCode(){return this.verification.code.join("")},checkAndTriggerVerification(l,n){this.verification.code[l]=n,l===5&&this.verification.code.every(a=>a!=="")&&(console.log("Verification code complete, triggering verification..."),this.verifyPhoneNumber().catch(a=>{console.error("Auto-verification failed:",a)}))},nextStep(){this.currentStep<this.totalSteps&&(this.currentStep++,this.error=null,this.errorDetails=null)},prevStep(){this.currentStep>1&&(this.currentStep--,this.error=null,this.errorDetails=null)},goToStep(l){l>=1&&l<=this.totalSteps&&(this.currentStep=l,this.error=null,this.errorDetails=null)},async sendVerificationCode(){var l,n,a,r;try{this.isLoading=!0,this.error=null,this.errorDetails=null;const p=this.accountInfo.full_phone_number||this.accountInfo.country_code+this.accountInfo.phone_number.replace(/\D/g,"");await this.checkAccountAvailability();const b=await R.post("/auth/phone/send",{phone_number:p});return this.nextStep(),this.success="Verification code sent to your phone.",b.data}catch(p){throw this.error=((n=(l=p.response)==null?void 0:l.data)==null?void 0:n.message)||"Failed to send verification code",(r=(a=p.response)==null?void 0:a.data)!=null&&r.errors&&(this.error=Object.values(p.response.data.errors).flat().join(", ")),p}finally{this.isLoading=!1}},async checkAccountAvailability(){var l,n,a;try{const r=this.accountInfo.full_phone_number||this.accountInfo.country_code+this.accountInfo.phone_number.replace(/\D/g,""),p=await R.post("/auth/check-availability",{email:this.accountInfo.email,phone_number:r});return this.error=null,this.errorDetails=null,p.data}catch(r){if((l=r.response)!=null&&l.data&&(this.errorDetails=r.response.data,r.response.status===422&&r.response.data.errors)){const p=r.response.data.errors,b=[];throw Object.entries(p).forEach(([g,h])=>{b.push(...h)}),this.error=b.join(`
`),new Error(this.error)}throw console.log(r),this.error=((a=(n=r.response)==null?void 0:n.data)==null?void 0:a.message)||"Failed to check account availability",r}},async verifyPhoneNumber(){var l,n;try{this.isLoading=!0,this.error=null;const a=this.accountInfo.full_phone_number||this.accountInfo.country_code+this.accountInfo.phone_number.replace(/\D/g,""),p={code:this.formatVerificationCode(),phone_number:a},b=await R.post("/auth/phone/verify",p);return this.verification.isPhoneVerified=!0,this.goToStep(3),b.data}catch(a){throw this.error=((n=(l=a.response)==null?void 0:l.data)==null?void 0:n.message)||"Verification failed",a}finally{this.isLoading=!1}},async register(){var l,n,a,r,p,b;try{if(this.isLoading=!0,this.error=null,!this.verification.isPhoneVerified)throw this.error="Phone number must be verified before registration",new Error("Phone number not verified");const g={phone_number:this.accountInfo.full_phone_number||this.accountInfo.country_code+this.accountInfo.phone_number.replace(/\D/g,""),email:this.accountInfo.email,password:this.accountInfo.password,terms_accepted:this.accountInfo.terms_accepted},h=await R.post("/auth/register",g),I=de(),i=le();if((l=h.data.data)!=null&&l.user&&(i.currentUser=h.data.data.user),(n=h.data.data)!=null&&n.access_token)I.token=h.data.data.access_token,localStorage.setItem("token",I.token),R.defaults.headers.common.Authorization=`Bearer ${I.token}`;else throw new Error("No access token received");return this.success="Account created successfully.",h.data}catch(g){throw this.error=((r=(a=g.response)==null?void 0:a.data)==null?void 0:r.message)||"Registration failed",(b=(p=g.response)==null?void 0:p.data)!=null&&b.errors&&(this.error=Object.values(g.response.data.errors).flat().join(", ")),g}finally{this.isLoading=!1}},async resendVerificationCode(){var l,n;try{this.isLoading=!0,this.error=null;const a=this.accountInfo.full_phone_number||this.accountInfo.country_code+this.accountInfo.phone_number.replace(/\D/g,""),r=await R.post("/auth/phone/send",{phone_number:a});return this.success="Verification code resent successfully.",r.data}catch(a){throw this.error=((n=(l=a.response)==null?void 0:l.data)==null?void 0:n.message)||"Failed to resend verification code",a}finally{this.isLoading=!1}},async updateProfile(){var l;try{this.isLoading=!0,this.error=null,this.errorDetails=null;const n={email:this.accountInfo.email,phone_number:this.accountInfo.full_phone_number||this.accountInfo.country_code+this.accountInfo.phone_number.replace(/\D/g,""),password:this.accountInfo.password,terms_accepted:this.accountInfo.terms_accepted,username:this.profileInfo.username,name:this.profileInfo.name,city:this.profileInfo.city,postal_code:this.profileInfo.postal_code,country_id:this.profileInfo.country_id,province_id:this.profileInfo.province_id,latitude:this.profileInfo.latitude,longitude:this.profileInfo.longitude,style_id:this.profileInfo.style_id};console.log("Sending registration data:",n);let a;if(this.profileInfo.profile_picture){const r=new FormData;Object.keys(n).forEach(p=>{n[p]!==null&&n[p]!==void 0&&r.append(p,n[p])}),r.append("profile_picture",this.profileInfo.profile_picture),a=await R.post("/auth/register",r,{headers:{"Content-Type":"multipart/form-data"}})}else a=await R.post("/auth/register",n);if(console.log("Registration response:",a.data),a.data.status==="success")if(this.success=a.data.message||"Account created successfully.",(l=a.data.data)!=null&&l.access_token){const r=de(),p=le();r.token=a.data.data.access_token,localStorage.setItem("token",r.token),R.defaults.headers.common.Authorization=`Bearer ${r.token}`,a.data.data.user&&(p.currentUser=a.data.data.user),this.nextStep()}else this.success=a.data.message||"Registration successful! Please check your phone for verification.";else this.error="Unexpected response format from server";return a.data}catch(n){if(console.error("Registration error:",n),n.response){const{data:a,status:r}=n.response;if(r===422)if(this.errorDetails=a,a.errors){const p=[];Object.entries(a.errors).forEach(([b,g])=>{p.push(...g)}),this.error=p.join(`
`)}else this.error=a.message||"Validation failed";else a.message?(this.error=a.message,a.code==="DATABASE_ERROR"?this.error=`Database error: ${a.message}`:a.code==="REGISTRATION_ERROR"&&(this.error=`Registration error: ${a.message}`)):this.error=`Error (${r}): Registration failed`}else n.request?this.error="No response from server. Please check your internet connection and try again.":this.error=n.message||"An unexpected error occurred";throw n}finally{this.isLoading=!1}},async updatePreferences(){var l,n;try{this.isLoading=!0,this.error=null;const a={style_id:this.preferences.style_id,sizes:{letter_size_id:this.preferences.letter_size_id,number_size_id:this.preferences.number_size_id,waist_size_id:this.preferences.waist_size_id},brands:this.preferences.brands},r=await R.post("/user/preferences",this.preferences);await R.post("/user/complete-onboarding"),await le().fetchCurrentUser(),this.success="Registration complete!";const g=new URLSearchParams(window.location.search).get("redirect")||"/home";return setTimeout(()=>{window.location.href=g},1500),r.data}catch(a){throw this.error=((n=(l=a.response)==null?void 0:l.data)==null?void 0:n.message)||"Failed to update preferences",a}finally{this.isLoading=!1}},resetState(){this.currentStep=1,this.accountInfo={country_code:"+1",phone_number:"",full_phone_number:"",email:"",password:"",password_confirmation:"",terms_accepted:!1},this.verification={code:["","","","","",""],verificationId:null,isPhoneVerified:!1,is_verified:!1,token:null},this.profileInfo={username:"",name:"",city:"",province_id:null,country_id:null,postal_code:"",profile_picture:null,profile_picture_preview:null,latitude:null,longitude:null,language:"",letter_size_id:null,number_size_id:null,waist_size_id:null,style_id:null},this.preferences={style_id:null,letter_size_id:null,number_size_id:null,waist_size_id:null,brands:[],size_preferences:[],notifications:{new_messages:!0,rental_updates:!0,product_matches:!1,marketing:!1}},this.error=null,this.errorDetails=null,this.success=null}}}),He={class:"bg-white rounded-xl p-4"},qe={key:0,class:"mb-4 p-3 bg-red-100 text-red-700 rounded"},Ge={class:"flex"},Qe={class:"text-xs text-gray-500 mt-1"},je={class:"text-body1 q-px-sm"},We={class:"mb-4"},Ke={class:"pt-4"},Je={class:"text-center text-sm text-gray-600"},fe={__name:"StepAccount",setup(l){const n=te(),a=V(()=>n.isLoading),r=[{name:"United States",code:"+1"},{name:"Canada",code:"+1"},{name:"United Kingdom",code:"+44"},{name:"Australia",code:"+61"},{name:"China",code:"+86"},{name:"France",code:"+33"},{name:"Germany",code:"+49"},{name:"India",code:"+91"},{name:"Italy",code:"+39"},{name:"Japan",code:"+81"},{name:"Mexico",code:"+52"},{name:"Russia",code:"+7"},{name:"Spain",code:"+34"},{name:"Brazil",code:"+55"},{name:"South Korea",code:"+82"}],p=f("+1"),b=f(""),g=f(""),h=f(""),I=f(""),i=f(!1),_=f(!1),A=f(!1),P=V(()=>n.error),w=f(!1),k=V(()=>{if(n.errorDetails&&n.errorDetails.errors){const o=n.errorDetails.errors;return{email:o.email?Array.isArray(o.email)?o.email.join(", "):o.email:null,phone_number:o.phone_number?Array.isArray(o.phone_number)?o.phone_number.join(", "):o.phone_number:null}}return{email:null,phone_number:null}}),L=V(()=>b.value.replace(/\D/g,"").length>=10),Y=V(()=>p.value+b.value.replace(/\D/g,"")),z=V(()=>p.value&&b.value&&L.value&&g.value&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.value)&&h.value&&h.value.length>=8&&I.value===h.value&&i.value);re(()=>{const o=n.accountInfo;if(o.country_code&&(p.value=o.country_code),o.phone_number)if(o.phone_number.startsWith("+")){const e=p.value.length;b.value=o.phone_number.substring(e)}else b.value=o.phone_number;g.value=o.email,h.value=o.password,I.value=o.password_confirmation,i.value=o.terms_accepted}),ne([p,b,g,h,I,i],()=>{var o,e;console.log("form data changed"),n.accountInfo={country_code:p.value,phone_number:b.value,full_phone_number:Y.value,email:g.value,password:h.value,password_confirmation:I.value,terms_accepted:i.value},(o=k.value)!=null&&o.email&&(k.value.email=null),(e=k.value)!=null&&e.phone_number&&(k.value.phone_number=null)});const D=async()=>{if(!!z.value)try{await n.sendVerificationCode()}catch(o){console.error("Verification error:",o)}},B=V(()=>k.value.email||k.value.phone_number),F=()=>{i.value=!0,w.value=!1};return(o,e)=>{const y=Ce("router-link");return x(),S("div",He,[e[58]||(e[58]=t("div",{class:"text-xl font-medium text-primary mb-2"},"Your Account Details",-1)),P.value&&!B.value?(x(),S("div",qe,T(P.value),1)):M("",!0),t("form",{onSubmit:ee(D,["prevent"]),class:"space-y-1"},[t("div",null,[e[10]||(e[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Phone Number",-1)),t("div",Ge,[m(ge,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),options:r,"option-label":"name","option-value":"code","emit-value":"","map-options":"",outlined:"",dense:"",class:"w-36 mr-2","dropdown-icon":"arrow_drop_down",behavior:"menu"},{option:C(s=>[m(Be,Ae(Pe(s.itemProps)),{default:C(()=>[m(Fe,null,{default:C(()=>[m(Me,null,{default:C(()=>[E(T(s.opt.name)+" ("+T(s.opt.code)+")",1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),selected:C(()=>[t("div",null,T(p.value),1)]),_:1},8,["modelValue"]),m(j,{modelValue:b.value,"onUpdate:modelValue":e[1]||(e[1]=s=>b.value=s),type:"tel",outlined:"",dense:"",class:"flex-1",mask:"(###)-###-####",placeholder:"(123) 456-7890",clearable:"","lazy-rules":"",rules:[s=>!!s||"Phone number is required",s=>L.value||"Please enter a valid phone number",s=>!k.value.phone_number],error:!!k.value.phone_number,"error-message":k.value.phone_number,maxlength:"20"},null,8,["modelValue","rules","error","error-message"])])]),t("div",null,[e[11]||(e[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Email",-1)),m(j,{modelValue:g.value,"onUpdate:modelValue":e[2]||(e[2]=s=>g.value=s),type:"email",outlined:"",dense:"",placeholder:"your@email.com",clearable:"","lazy-rules":"",rules:[s=>!!s||"Email is required",s=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)||"Please enter a valid email"],error:!!k.value.email,"error-message":k.value.email},null,8,["modelValue","rules","error","error-message"])]),t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Password",-1)),m(j,{modelValue:h.value,"onUpdate:modelValue":e[4]||(e[4]=s=>h.value=s),type:_.value?"text":"password",outlined:"",dense:"",placeholder:"Create a password",rules:[s=>!!s||"Password is required",s=>s.length>=8||"Password must be at least 8 characters"]},{append:C(()=>[m(N,{name:_.value?"visibility":"visibility_off",class:"cursor-pointer",onClick:e[3]||(e[3]=s=>_.value=!_.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Confirm Password",-1)),m(j,{modelValue:I.value,"onUpdate:modelValue":e[6]||(e[6]=s=>I.value=s),type:A.value?"text":"password",outlined:"",dense:"",placeholder:"Confirm your password",rules:[s=>!!s||"Please confirm your password",s=>s===h.value||"Passwords do not match"]},{append:C(()=>[m(N,{name:A.value?"visibility":"visibility_off",class:"cursor-pointer",onClick:e[5]||(e[5]=s=>A.value=!A.value)},null,8,["name"])]),_:1},8,["modelValue","type","rules"])]),t("div",null,[m($e,{modelValue:i.value,"onUpdate:modelValue":e[7]||(e[7]=s=>i.value=s),label:"I accept the terms and conditions",color:"primary",rules:[s=>s===!0||"You must accept the terms to continue"]},null,8,["modelValue","rules"]),t("div",Qe,[t("a",{href:"#",class:"text-primary underline",onClick:e[8]||(e[8]=ee(s=>w.value=!0,["prevent"]))},"Read our terms")])]),m(Re,{modelValue:w.value,"onUpdate:modelValue":e[9]||(e[9]=s=>w.value=s),persistent:""},{default:C(()=>[m(Ee,{class:"bg-white",style:{width:"700px","max-width":"90vw"}},{default:C(()=>[m(ce,{class:"row items-center q-pb-none bg-primary-light q-pa-md"},{default:C(()=>[e[14]||(e[14]=t("div",{class:"text-h6 text-primary"},"Terms and Conditions",-1)),m(Te),H(m(O,{icon:"close",flat:"",round:"",dense:""},null,512),[[pe]])]),_:1}),m(ce,{class:"q-pa-md",style:{"max-height":"70vh","overflow-y":"auto"}},{default:C(()=>[t("div",je,[e[16]||(e[16]=t("h2",{class:"text-h5 text-primary font-bold mb-4"},"Spindle Clothing Rental Marketplace Terms and Conditions",-1)),t("p",We,[e[15]||(e[15]=t("strong",null,"Last Updated:",-1)),E(" "+T(new Date().toLocaleDateString()),1)]),e[17]||(e[17]=t("p",{class:"mb-4"},"By using the Spindle platform, you agree to these Terms and Conditions. Please read them carefully.",-1)),e[18]||(e[18]=t("h3",{class:"text-h6 font-bold text-primary-dark mt-6 mb-2"},"1. ALPHA STATUS DISCLAIMER",-1)),e[19]||(e[19]=t("p",{class:"mb-4"},[t("strong",null,"IMPORTANT:"),E(' Spindle is currently in ALPHA testing phase. The platform is provided "AS IS" and "AS AVAILABLE" without warranties of any kind. By using Spindle, you acknowledge: ')],-1)),e[20]||(e[20]=t("ul",{class:"list-disc ml-6 mb-4"},[t("li",null,"The service may contain bugs, errors, and limitations"),t("li",null,"Data loss or inaccuracies may occur"),t("li",null,"Features may change or be removed without notice"),t("li",null,"The platform may experience downtime or interruptions")],-1)),e[21]||(e[21]=t("h3",{class:"text-h6 font-bold text-primary-dark mt-6 mb-2"},"2. OWNERSHIP AND RESPONSIBILITY",-1)),e[22]||(e[22]=t("p",{class:"mb-4"}," This application is owned and operated by Braydon Viragh. All intellectual property, content, and rights to the Spindle platform are solely owned by Braydon Viragh. Any inquiries, complaints, or legal matters should be directed to Braydon Viragh as the sole proprietor and responsible party. ",-1)),e[23]||(e[23]=t("h3",{class:"text-h6 font-bold text-primary-dark mt-6 mb-2"},"3. PLATFORM DESCRIPTION",-1)),e[24]||(e[24]=t("p",{class:"mb-4"},' Spindle is a peer-to-peer marketplace that connects individuals who want to rent clothing items ("Renters") with those who have clothing items available for rent ("Lenders"). ',-1)),e[25]||(e[25]=t("h3",{class:"text-h6 font-bold text-primary-dark mt-6 mb-2"},"4. ELIGIBILITY",-1)),e[26]||(e[26]=t("p",{class:"mb-4"}," You must be at least 18 years old and able to form legally binding contracts to use our Services. By accessing or using Spindle, you represent and warrant that you meet these requirements. ",-1)),e[27]||(e[27]=t("h3",{class:"text-h6 font-bold text-primary-dark mt-6 mb-2"},"5. ACCOUNT REGISTRATION",-1)),e[28]||(e[28]=t("p",{class:"mb-4"}," To use certain features of the platform, you must register for an account. You agree to: ",-1)),e[29]||(e[29]=t("ul",{class:"list-disc ml-6 mb-4"},[t("li",null,"Provide accurate and complete information"),t("li",null,"Maintain the security of your account credentials"),t("li",null,"Promptly update any information that changes"),t("li",null,"Accept responsibility for all activities under your account")],-1)),e[30]||(e[30]=t("h3",{class:"text-h6 font-bold text-primary-dark mt-6 mb-2"},"6. RENTAL TERMS",-1)),e[31]||(e[31]=t("p",{class:"mb-4"},[t("strong",null,"6.1 Listing Items:"),E(" Lenders are solely responsible for the accuracy and completeness of their listings, including descriptions, photos, condition, sizing, and availability. ")],-1)),e[32]||(e[32]=t("p",{class:"mb-4"},[t("strong",null,"6.2 Rental Agreements:"),E(" When a Renter rents an item, a binding rental agreement is created between the Renter and Lender. Spindle is not a party to this agreement but provides the platform to facilitate the transaction. ")],-1)),e[33]||(e[33]=t("p",{class:"mb-4"},[t("strong",null,"6.3 Fees and Payments:"),E(" Spindle charges service fees for the use of the platform. All applicable fees will be clearly displayed before completing a transaction. ")],-1)),e[34]||(e[34]=t("p",{class:"mb-4"},[t("strong",null,"6.4 Cancellations and Returns:"),E(" Cancellation and return policies will be specified for each rental listing. Renters and Lenders agree to comply with these policies. ")],-1)),e[35]||(e[35]=t("h3",{class:"text-h6 font-bold text-primary-dark mt-6 mb-2"},"7. USER CONDUCT",-1)),e[36]||(e[36]=t("p",{class:"mb-4"}," You agree not to: ",-1)),e[37]||(e[37]=t("ul",{class:"list-disc ml-6 mb-4"},[t("li",null,"Violate any applicable laws or regulations"),t("li",null,"Infringe upon the rights of others"),t("li",null,"Impersonate any person or entity"),t("li",null,"Engage in fraudulent or deceptive activities"),t("li",null,"Attempt to circumvent any features of the platform"),t("li",null,"Post content that is offensive, harmful, or inappropriate")],-1)),e[38]||(e[38]=t("h3",{class:"text-h6 font-bold text-primary-dark mt-6 mb-2"},"8. CLOTHING CONDITION & HYGIENE",-1)),e[39]||(e[39]=t("p",{class:"mb-4"},[t("strong",null,"8.1 Lender Obligations:"),E(" Lenders must ensure all items are clean, sanitary, and in the condition described in the listing. ")],-1)),e[40]||(e[40]=t("p",{class:"mb-4"},[t("strong",null,"8.2 Renter Obligations:"),E(" Renters must return items cleaned according to the care instructions and in substantially the same condition as received. ")],-1)),e[41]||(e[41]=t("p",{class:"mb-4"},[t("strong",null,"8.3 Damage or Loss:"),E(" Renters are responsible for damage beyond normal wear and tear or loss of rented items. ")],-1)),e[42]||(e[42]=t("h3",{class:"text-h6 font-bold text-primary-dark mt-6 mb-2"},"9. LIMITATION OF LIABILITY",-1)),e[43]||(e[43]=t("p",{class:"mb-4"}," TO THE MAXIMUM EXTENT PERMITTED BY LAW, BRAYDON VIRAGH AND SPINDLE SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, OR PUNITIVE DAMAGES, OR ANY LOSS OF PROFITS OR REVENUES, WHETHER INCURRED DIRECTLY OR INDIRECTLY, OR ANY LOSS OF DATA, USE, GOODWILL, OR OTHER INTANGIBLE LOSSES. ",-1)),e[44]||(e[44]=t("p",{class:"mb-4"}," IN NO EVENT SHALL BRAYDON VIRAGH'S OR SPINDLE'S TOTAL LIABILITY FOR ALL CLAIMS RELATED TO THE SERVICES EXCEED THE GREATER OF $100 USD OR THE AMOUNT PAID BY YOU TO SPINDLE FOR THE PAST 12 MONTHS OF THE SERVICES. ",-1)),e[45]||(e[45]=t("h3",{class:"text-h6 font-bold text-primary-dark mt-6 mb-2"},"10. INDEMNIFICATION",-1)),e[46]||(e[46]=t("p",{class:"mb-4"}," You agree to defend, indemnify, and hold harmless Braydon Viragh and Spindle from and against any claims, liabilities, damages, losses, and expenses, including reasonable attorneys' fees and costs, arising out of or in any way connected with your access to or use of the Services, your violation of these Terms, or your violation of any rights of another. ",-1)),e[47]||(e[47]=t("h3",{class:"text-h6 font-bold text-primary-dark mt-6 mb-2"},"11. DISPUTE RESOLUTION",-1)),e[48]||(e[48]=t("p",{class:"mb-4"}," Any disputes arising from or relating to these Terms or your use of Spindle shall be resolved through binding arbitration in accordance with the applicable commercial arbitration rules. ",-1)),e[49]||(e[49]=t("h3",{class:"text-h6 font-bold text-primary-dark mt-6 mb-2"},"12. MODIFICATIONS",-1)),e[50]||(e[50]=t("p",{class:"mb-4"}," We may modify these Terms at any time. Your continued use of Spindle after any changes constitutes your acceptance of the modified Terms. ",-1)),e[51]||(e[51]=t("h3",{class:"text-h6 font-bold text-primary-dark mt-6 mb-2"},"13. TERMINATION",-1)),e[52]||(e[52]=t("p",{class:"mb-4"}," We may terminate or suspend your access to Spindle immediately, without prior notice, for any reason including if you breach these Terms. ",-1)),e[53]||(e[53]=t("h3",{class:"text-h6 font-bold text-primary-dark mt-6 mb-2"},"14. CONTACT INFORMATION",-1)),e[54]||(e[54]=t("p",{class:"mb-4"},[E(" For questions about these Terms, please contact Braydon Viragh at "),t("a",{href:"mailto:contact@spindleapp.com",class:"text-primary"},"contact@spindleapp.com"),E(". ")],-1)),e[55]||(e[55]=t("p",{class:"mt-8 text-center font-bold"}," BY USING SPINDLE, YOU ACKNOWLEDGE THAT YOU HAVE READ THESE TERMS AND AGREE TO BE BOUND BY THEM. ",-1))])]),_:1}),m(Ye,{align:"right",class:"bg-white q-pa-md"},{default:C(()=>[m(O,{flat:"",label:"I Accept",color:"primary",onClick:F}),H(m(O,{flat:"",label:"Close",color:"grey"},null,512),[[pe]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),t("div",Ke,[m(O,{type:"submit",label:"Continue",class:"w-full",color:"primary",rounded:"",loading:a.value,disable:!z.value},null,8,["loading","disable"])]),t("div",Je,[e[57]||(e[57]=E(" Already have an account? ")),m(y,{to:"/login",class:"text-primary"},{default:C(()=>e[56]||(e[56]=[E("Log in")])),_:1})])],32)])}}};const Xe={class:"step-verification p-6"},Ze={class:"text-gray-500 text-sm mb-6"},et={key:0,class:"mb-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm"},tt={class:"flex items-center"},st={class:"verification-code-container mb-6"},rt={class:"verification-code-inputs flex justify-center space-x-3"},ot={class:"text-center mb-6"},at={key:0,class:"text-xs text-gray-400 mt-1"},lt={class:"flex flex-col space-y-3"},nt={__name:"StepVerification",emits:["prev-step"],setup(l,{emit:n}){const a=n,r=te(),p=V(()=>r.isLoading),b=f(!1),g=f(!1),h=f(60);let I=null;const i=f(JSON.parse(JSON.stringify(r.verification.code))),_=V(()=>r.getMaskedPhoneNumber),A=V(()=>i.value.every(o=>o!=="")),P=f([]),w=o=>{o>=0&&o<6&&P.value[o]&&ve(()=>{P.value[o].focus();const e=P.value[o].$el.querySelector("input");e&&e.select()})},k=o=>{const e=i.value[o];if(i.value[o]=e.replace(/\D/g,""),e&&e.length>1){const y=e.replace(/\D/g,"").split("");for(let c=0;c<y.length&&o+c<6;c++)i.value[o+c]=y[c];let s=Math.min(o+y.length,5);s<5&&i.value[s],w(s)}else i.value[o]&&o<5&&w(o+1);for(let y=0;y<i.value.length;y++)r.verification.code[y]=i.value[y];o===5&&A.value&&r.checkAndTriggerVerification(o,i.value[o])},L=(o,e)=>{if(/^\d$/.test(o.key)&&i.value[e]&&e<5){o.preventDefault(),i.value[e+1]=o.key,r.verification.code=[...i.value],w(e+1);return}o.key==="Backspace"?!i.value[e]&&e>0&&(o.preventDefault(),i.value[e-1]="",r.verification.code=[...i.value],w(e-1)):o.key==="ArrowLeft"&&e>0?w(e-1):o.key==="ArrowRight"&&e<5&&w(e+1)},Y=o=>{o.preventDefault();const y=(o.clipboardData||window.clipboardData).getData("text").replace(/\D/g,"").split("").slice(0,6);i.value=i.value.map(()=>""),y.forEach((s,c)=>{c<6&&(i.value[c]=s)});for(let s=0;s<i.value.length;s++)r.verification.code[s]=i.value[s];for(let s=0;s<6;s++)if(!i.value[s]){w(s);return}w(5),y.length===6&&r.checkAndTriggerVerification(5,i.value[5])},z=async()=>{if(!!A.value)try{await r.verifyPhoneNumber()}catch(o){console.error("Verification error:",o)}},D=async()=>{if(!g.value){b.value=!0;try{await r.resendVerificationCode(),B()}catch(o){console.error("Resend error:",o)}finally{b.value=!1}}},B=()=>{g.value=!0,h.value=60,I&&clearInterval(I),I=setInterval(()=>{h.value--,h.value<=0&&(clearInterval(I),g.value=!1)},1e3)},F=()=>{a("prev-step")};return re(()=>{w(0),window.OTPCredential&&navigator.credentials&&navigator.credentials.get({otp:{transport:["sms"]},signal:new AbortController().signal}).then(o=>{if(o&&o.code){const e=o.code;for(let y=0;y<Math.min(e.length,6);y++)i.value[y]=e[y];r.verification.code=[...i.value],A.value&&z()}}).catch(o=>{console.log("OTP Credential API error:",o)})}),Ve(()=>{I&&clearInterval(I)}),(o,e)=>(x(),S("div",Xe,[e[2]||(e[2]=t("h2",{class:"text-2xl font-medium text-gray-900 mb-2"},"Verify Your Phone",-1)),t("p",Ze," Enter the 6-digit code we sent to "+T(_.value),1),q(r).error?(x(),S("div",et,[t("div",tt,[m(N,{name:"error",class:"mr-2",size:"xs"}),t("span",null,T(q(r).error),1)])])):M("",!0),t("div",st,[t("div",rt,[(x(!0),S(G,null,W(i.value,(y,s)=>(x(),Z(j,{key:s,modelValue:i.value[s],"onUpdate:modelValue":c=>i.value[s]=c,type:"text",class:"verification-input w-10 h-12 text-center text-base border-b-2 border-gray-200",maxlength:"1",autocomplete:"one-time-code",onInput:c=>k(s),onKeydown:c=>L(c,s),onPaste:Y,ref_for:!0,ref_key:"inputs",ref:P,autofocus:s===0,rules:[c=>/^[0-9]*$/.test(c)||"Numbers only"],flat:"",dense:""},null,8,["modelValue","onUpdate:modelValue","onInput","onKeydown","autofocus","rules"]))),128))]),e[0]||(e[0]=t("p",{class:"text-xs text-center text-gray-400 mt-3"}," We'll automatically detect the code if sent to this device ",-1))]),t("div",ot,[e[1]||(e[1]=t("p",{class:"text-sm text-gray-500 mb-2"}," Didn't receive a code? ",-1)),m(O,{flat:"",class:"text-primary text-sm",label:"Resend Code",disable:g.value,onClick:D,loading:b.value},null,8,["disable","loading"]),g.value?(x(),S("div",at," You can request a new code in "+T(h.value)+" seconds ",1)):M("",!0)]),t("div",lt,[m(O,{label:"Verify",color:"primary",class:"w-full",flat:"",disable:!A.value,loading:p.value,onClick:z},null,8,["disable","loading"]),m(O,{label:"Go Back",flat:"",color:"grey-7",class:"w-full",onClick:F,disable:p.value},null,8,["disable"])]),e[3]||(e[3]=t("div",{class:"mt-4 text-center text-xs text-gray-400"},[E(" Having trouble? "),t("a",{href:"#",class:"text-primary"},"Contact Support")],-1))]))}};var it=oe(nt,[["__scopeId","data-v-04f89b44"]]);const ut={class:"step-profile p-4"},dt={class:"profile-picture-section text-center mb-6"},ct={class:"profile-picture-container mx-auto"},pt={key:0,class:"profile-picture-placeholder"},mt={for:"profile-picture-input",class:"profile-picture-upload"},ft={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},vt={key:0,class:"address-details mt-2 text-xs text-gray-500"},gt={key:0},yt={key:1},ht={class:"style-options grid grid-cols-3 gap-2"},bt=["onClick"],_t={class:"style-icon mb-2"},xt={class:"style-name text-center text-sm"},It={class:"hidden"},wt={class:"flex flex-col space-y-3 pt-4"},St="AIzaSyCC2bzRYySUCHOboxrTglFIkmnmEt4PAqk",kt={__name:"StepProfile",emits:["prev-step"],setup(l,{emit:n}){const a=n,r=te(),p=V(()=>r.isLoading),b=f(!1),g=f(!1),h=f(!1),I=f(!1),i=f(""),_=f(""),A=f(""),P=f(""),w=f(""),k=f(null),L=f(null),Y=f(""),z=f(null),D=f(null),B=f(null),F=f(null),o=f(null),e=f(null);let y=null;const s=[{id:1,name:"Man",icon:"person"},{id:2,name:"Woman",icon:"person_4"},{id:3,name:"Unisex",icon:"people"}],c=f([]),$=f([]),se=V(()=>i.value&&i.value.length>=3&&_.value&&A.value&&o.value!==null),ae=()=>{if(document.querySelector('script[src*="maps.googleapis.com/maps/api"]')){K();return}const d=document.createElement("script");d.src=`https://maps.googleapis.com/maps/api/js?key=${St}&libraries=places`,d.async=!0,d.defer=!0,d.onload=K,document.head.appendChild(d)},K=()=>{if(!e.value||!e.value.$el){setTimeout(K,100);return}const d=e.value.$el.querySelector("input");if(!d){setTimeout(K,100);return}y=new google.maps.places.Autocomplete(d,{types:["address"],componentRestrictions:{country:"ca"},fields:["address_components","geometry","formatted_address"]}),y.addListener("place_changed",()=>{const u=y.getPlace();!u.geometry||he(u)}),ye()},ye=()=>{if(document.getElementById("google-autocomplete-styles"))return;const d=document.createElement("style");d.id="google-autocomplete-styles",d.textContent=`
    .pac-container {
      z-index: 10000 !important;
      font-family: 'Inter', sans-serif !important;
      border-radius: 8px !important;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15) !important;
      border: 1px solid rgba(0, 0, 0, 0.1) !important;
      margin-top: 4px !important;
    }
    .pac-item {
      padding: 8px 12px !important;
      cursor: pointer !important;
    }
    .pac-item:hover {
      background-color: rgba(0, 0, 0, 0.05) !important;
    }
    .pac-matched {
      font-weight: bold !important;
    }
  `,document.head.appendChild(d)},he=d=>{if(!d||!d.geometry)return;A.value=d.formatted_address||"",B.value=d.geometry.location.lat(),F.value=d.geometry.location.lng(),P.value="",w.value="",k.value=null,L.value=null;let u=null,v=null;d.address_components&&d.address_components.length>0&&(d.address_components.forEach(U=>{const J=U.types;(J.includes("locality")||J.includes("sublocality")||J.includes("postal_town"))&&(P.value=U.long_name),J.includes("postal_code")&&(w.value=U.long_name),J.includes("country")&&U.short_name==="CA"&&(k.value=1),J.includes("administrative_area_level_1")&&(v=U.long_name,u=U.short_name)}),u&&$.value.length>0?ie(u):u&&ue(1).then(()=>{$.value.length>0&&ie(u)})),Y.value=v},ie=(d,u)=>{const v=$.value.find(U=>U.abbreviation&&U.abbreviation.toUpperCase()===d.toUpperCase());v&&(L.value=v.id)},be=()=>{const d=document.getElementById("profile-picture-input");d&&d.click()},_e=d=>{const u=d.target.files[0];if(!u)return;if(!u.type.match("image.*")){r.error="Please upload an image file";return}if(u.size>5*1024*1024){r.error="Image size should be less than 5MB";return}z.value=u;const v=new FileReader;v.onload=U=>{D.value=U.target.result},v.readAsDataURL(u)},xe=()=>{z.value=null,D.value=null;const d=document.getElementById("profile-picture-input");d&&(d.value="")},Ie=async()=>{if(!!se.value){if(!o.value){r.error="Please select a style preference";return}r.profileInfo={username:i.value,name:_.value,city:P.value,province_id:L.value,country_id:k.value||1,postal_code:w.value,profile_picture:z.value,latitude:B.value,longitude:F.value,style_id:o.value},console.log(r.profileInfo);try{await r.updateProfile()}catch{}}},we=()=>{a("prev-step")},ue=async d=>{try{g.value=!0,I.value=!1;const u=await R.get(`/provinces?country_id=${d}`);$.value=u.data.data}catch{I.value=!0,r.error="Failed to load provinces. Please try again."}finally{g.value=!1}},Se=async()=>{try{b.value=!0,h.value=!1;const d=await R.get("/countries");c.value=d.data.data,await ue(1)}catch{h.value=!0,r.error="Failed to load location data. Please try again."}finally{b.value=!1}};return re(()=>{const d=r.profileInfo;if(i.value=d.username,_.value=d.name,P.value=d.city,w.value=d.postal_code,k.value=d.country_id||1,L.value=d.province_id,B.value=d.latitude,F.value=d.longitude,o.value=d.style_id||null,d.profile_picture)if(z.value=d.profile_picture,typeof d.profile_picture=="string")D.value=d.profile_picture;else{const u=new FileReader;u.onload=v=>{D.value=v.target.result},u.readAsDataURL(d.profile_picture)}Se(),ve(()=>{ae()})}),(d,u)=>(x(),S("div",ut,[u[14]||(u[14]=t("h2",{class:"text-xl font-medium text-primary mb-2"},"Create Your Profile",-1)),u[15]||(u[15]=t("p",{class:"text-gray-600 mb-6"}," Tell us a bit about yourself ",-1)),t("form",{onSubmit:ee(Ie,["prevent"]),class:"space-y-4"},[t("div",dt,[u[9]||(u[9]=t("div",{class:"profile-picture-label mb-2"},[t("span",{class:"text-sm font-medium text-gray-700"},"Profile Picture"),t("span",{class:"text-xs text-gray-500 ml-1"},"- optional")],-1)),t("div",ct,[t("div",{class:"profile-picture-preview",style:Le(D.value?`background-image: url(${D.value})`:"")},[D.value?M("",!0):(x(),S("div",pt,[m(N,{name:"person",size:"40px",color:"grey-5"})])),D.value?(x(),S("div",{key:1,class:"profile-picture-remove",onClick:ee(xe,["stop"])},[m(N,{name:"close",size:"20px",color:"white"})])):M("",!0)],4)]),t("label",mt,[m(O,{outline:"",rounded:"",color:"primary",label:"Upload Photo",icon:"image",size:"sm",class:"mt-2",onClick:be}),t("input",{type:"file",id:"profile-picture-input",accept:"image/*",onChange:_e,class:"hidden"},null,32)])]),t("div",ft,[t("div",null,[u[10]||(u[10]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Username",-1)),m(j,{modelValue:i.value,"onUpdate:modelValue":u[0]||(u[0]=v=>i.value=v),outlined:"",dense:"",placeholder:"Your username",rules:[v=>!!v||"Username is required",v=>v.length>=3||"Username must be at least 3 characters"]},{prepend:C(()=>[m(N,{name:"alternate_email"})]),_:1},8,["modelValue","rules"])]),t("div",null,[u[11]||(u[11]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Full Name",-1)),m(j,{modelValue:_.value,"onUpdate:modelValue":u[1]||(u[1]=v=>_.value=v),outlined:"",dense:"",placeholder:"Your full name",rules:[v=>!!v||"Name is required"]},{prepend:C(()=>[m(N,{name:"person"})]),_:1},8,["modelValue","rules"])])]),t("div",null,[u[12]||(u[12]=t("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"Address",-1)),m(j,{modelValue:A.value,"onUpdate:modelValue":u[2]||(u[2]=v=>A.value=v),outlined:"",dense:"",ref_key:"addressInput",ref:e,placeholder:"Start typing your address",rules:[v=>!!v||"Address is required"]},{append:C(()=>[m(N,{name:"place",color:"primary"})]),_:1},8,["modelValue","rules"]),A.value&&(P.value||w.value)?(x(),S("div",vt,[P.value?(x(),S("div",gt,"City: "+T(P.value)+", "+T(Y.value),1)):M("",!0),w.value?(x(),S("div",yt,"Postal Code: "+T(w.value),1)):M("",!0)])):M("",!0)]),t("div",null,[u[13]||(u[13]=t("label",{class:"block text-sm font-medium text-gray-700 mb-3"},"Style Preference",-1)),t("div",ht,[(x(),S(G,null,W(s,v=>t("div",{key:v.id,class:Q(["style-option",{"style-option-selected":o.value===v.id}]),onClick:U=>o.value=v.id},[t("div",_t,[m(N,{name:v.icon,size:"1.5rem"},null,8,["name"])]),t("div",xt,T(v.name),1)],10,bt)),64))])]),t("div",It,[H(t("input",{type:"hidden","onUpdate:modelValue":u[3]||(u[3]=v=>P.value=v)},null,512),[[X,P.value]]),H(t("input",{type:"hidden","onUpdate:modelValue":u[4]||(u[4]=v=>w.value=v)},null,512),[[X,w.value]]),H(t("input",{type:"hidden","onUpdate:modelValue":u[5]||(u[5]=v=>k.value=v)},null,512),[[X,k.value]]),H(t("input",{type:"hidden","onUpdate:modelValue":u[6]||(u[6]=v=>L.value=v)},null,512),[[X,L.value]]),H(t("input",{type:"hidden","onUpdate:modelValue":u[7]||(u[7]=v=>B.value=v)},null,512),[[X,B.value]]),H(t("input",{type:"hidden","onUpdate:modelValue":u[8]||(u[8]=v=>F.value=v)},null,512),[[X,F.value]])]),t("div",wt,[m(O,{type:"submit",label:"Continue",color:"primary",rounded:"",class:"w-full",loading:p.value,disable:!se.value},null,8,["loading","disable"]),m(O,{label:"Go Back",outline:"",color:"grey-7",rounded:"",class:"w-full",onClick:we,disable:p.value},null,8,["disable"])])],32)]))}};var Ct=oe(kt,[["__scopeId","data-v-1e91b3dc"]]);const At={class:"step-preferences p-4"},Pt={class:"style-options grid grid-cols-3 gap-3"},Et=["onClick"],Tt={class:"style-icon"},Rt={class:"style-name"},Vt={class:"mb-4"},Lt={class:"size-options flex flex-wrap gap-2"},Dt=["onClick"],Nt={class:"mb-4"},Ot={class:"size-options flex flex-wrap gap-2"},zt=["onClick"],$t={class:"size-options flex flex-wrap gap-2"},Ut=["onClick"],Bt={class:"flex flex-col space-y-3 pt-4"},Ft={__name:"StepPreferences",emits:["prev-step"],setup(l,{emit:n}){const a=n,r=te(),p=V(()=>r.isLoading),b=f(null),g=f(null),h=f(null),I=f(null),i=f(null),_=f([]),A=f([]),P=f([]),w=f([]),k=f([]),L=f([]),Y=f([]),z=V(()=>g.value!==null),D=y=>{switch(y){case"male":return"man";case"female":return"woman";case"unisex":default:return"people"}},B=(y,s)=>{if(y===""){s(()=>{Y.value=L.value});return}s(()=>{const c=y.toLowerCase();Y.value=L.value.filter($=>$.name.toLowerCase().indexOf(c)>-1)})},F=async()=>{var y,s;p.value=!0,b.value=null;try{const[c,$,se,ae,K]=await Promise.all([R.get("/styles"),R.get("/sizes/letter"),R.get("/sizes/number"),R.get("/sizes/waist"),R.get("/brands")]);A.value=c.data.data,P.value=$.data.data,w.value=se.data.data,k.value=ae.data.data,L.value=K.data.data}catch(c){console.error("Error fetching preferences data:",c),b.value=((s=(y=c.response)==null?void 0:y.data)==null?void 0:s.message)||"Failed to load preferences data"}finally{p.value=!1}},o=async()=>{if(!!z.value){r.preferences={style_id:g.value,letter_size_id:h.value,number_size_id:I.value,waist_size_id:i.value,brands:_.value};try{await r.updatePreferences()}catch(y){console.error("Preferences update error:",y)}}},e=()=>{a("prev-step")};return re(async()=>{await F();const y=r.preferences;if(g.value=y.style_id,h.value=y.letter_size_id,I.value=y.number_size_id,i.value=y.waist_size_id,_.value=y.brands||[],!g.value&&A.value.length>0){const s=A.value.find(c=>c.slug==="unisex");g.value=s?s.id:A.value[0].id}}),ne([g,h,I,i,_],()=>{r.preferences={style_id:g.value,letter_size_id:h.value,number_size_id:I.value,waist_size_id:i.value,brands:_.value}}),(y,s)=>(x(),S("div",At,[s[8]||(s[8]=t("h2",{class:"text-xl font-medium text-primary mb-2"},"Your Preferences",-1)),s[9]||(s[9]=t("p",{class:"text-gray-600 mb-6"}," Tell us about your style and size preferences ",-1)),t("form",{onSubmit:ee(o,["prevent"]),class:"space-y-6"},[t("div",null,[s[1]||(s[1]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"Style Preference",-1)),t("div",Pt,[(x(!0),S(G,null,W(A.value,c=>(x(),S("div",{key:c.id,class:Q(["style-option",{"style-selected":g.value===c.id}]),onClick:$=>g.value=c.id},[t("div",Tt,[m(N,{name:D(c.slug),size:"24px"},null,8,["name"])]),t("span",Rt,T(c.name),1)],10,Et))),128))])]),t("div",null,[s[5]||(s[5]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"What sizes do you wear?",-1)),t("div",Vt,[s[2]||(s[2]=t("label",{class:"block text-sm text-gray-600 mb-2"},"Letter Size",-1)),t("div",Lt,[(x(!0),S(G,null,W(P.value,c=>(x(),S("div",{key:c.id,class:Q(["size-chip",{"size-selected":h.value===c.id}]),onClick:$=>h.value=c.id},T(c.name),11,Dt))),128))])]),t("div",Nt,[s[3]||(s[3]=t("label",{class:"block text-sm text-gray-600 mb-2"},"Number Size",-1)),t("div",Ot,[(x(!0),S(G,null,W(w.value,c=>(x(),S("div",{key:c.id,class:Q(["size-chip",{"size-selected":I.value===c.id}]),onClick:$=>I.value=c.id},T(c.name),11,zt))),128))])]),t("div",null,[s[4]||(s[4]=t("label",{class:"block text-sm text-gray-600 mb-2"},"Waist Size",-1)),t("div",$t,[(x(!0),S(G,null,W(k.value,c=>(x(),S("div",{key:c.id,class:Q(["size-chip",{"size-selected":i.value===c.id}]),onClick:$=>i.value=c.id},T(c.name),11,Ut))),128))])])]),t("div",null,[s[6]||(s[6]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[E(" Favorite Brands "),t("span",{class:"text-xs text-gray-500"},"(Select up to 5)")],-1)),m(ge,{modelValue:_.value,"onUpdate:modelValue":s[0]||(s[0]=c=>_.value=c),options:L.value,"option-value":"id","option-label":"name",multiple:"",outlined:"",dense:"","use-chips":"","stack-label":"","max-values":5,"emit-value":"","map-options":"",placeholder:"Search for brands",onFilter:B,rules:[c=>c.length<=5||"You can select up to 5 brands"]},{prepend:C(()=>[m(N,{name:"style"})]),_:1},8,["modelValue","options","rules"])]),s[7]||(s[7]=t("div",{class:"text-center"},[t("p",{class:"text-sm text-gray-500"}," You can update these preferences later in your profile settings ")],-1)),t("div",Bt,[m(O,{type:"submit",label:"Complete Registration",color:"primary",rounded:"",class:"w-full",loading:p.value,disable:!z.value},null,8,["loading","disable"]),m(O,{label:"Go Back",outline:"",color:"grey-7",rounded:"",class:"w-full",onClick:e,disable:p.value},null,8,["disable"])])],32)]))}};var Mt=oe(Ft,[["__scopeId","data-v-0c316dc6"]]);const Yt={class:"max-w-lg mx-auto p-4 sm:px-6 py-8 fade-in"},Ht={class:"flex justify-center items-center gap-3 mb-8"},qt={class:"bg-white rounded-lg shadow-sm border border-gray-100 overflow-hidden"},Gt={__name:"Register",setup(l){De();const n=ze(),a=te(),r=V(()=>a.currentStep),p=V(()=>n.query.redirect||"/"),b=V(()=>{switch(r.value){case 1:return fe;case 2:return it;case 3:return Ct;case 4:return Mt;default:return fe}}),g=()=>{a.nextStep()},h=()=>{a.prevStep()};return ne(r,I=>{}),a.resetState(),(I,i)=>(x(),S("div",Yt,[i[2]||(i[2]=t("div",{class:"text-center mb-6"},[t("img",{src:Ue,alt:"Logo",class:"h-14 mx-auto mb-3"}),t("div",{class:"text-2xl font-medium text-primary"},"Create Your Account"),t("p",{class:"text-gray-500 text-sm mt-1"},"Join the marketplace to start renting clothes")],-1)),t("div",Ht,[(x(),S(G,null,W(4,_=>t("div",{key:_,class:Q(["relative flex items-center justify-center w-8 h-8 rounded-full bg-gray-100 transition-all duration-200",{"bg-primary text-white scale-110 z-10":r.value===_,"bg-primary text-white":r.value>_,"opacity-70":r.value<_}])},[t("div",{class:Q(["flex items-center justify-center w-7 h-7 rounded-full bg-white text-xs font-semibold",{"text-primary w-6 h-6":r.value===_,"bg-primary text-white w-6 h-6":r.value>_}])},[r.value>_?(x(),Z(N,{key:0,name:"check",size:"xs"})):(x(),S(G,{key:1},[E(T(_),1)],64))],2),_<4?(x(),S("div",{key:0,class:Q(["absolute left-full w-6 h-0.5 -ml-1",{"bg-primary":r.value>_,"bg-gray-200":r.value<=_}])},null,2)):M("",!0)],2)),64))]),q(a).error?(x(),Z(me,{key:0,rounded:"",class:"bg-red-50 text-red-700 mb-6 shadow-sm"},{avatar:C(()=>[m(N,{name:"error",color:"red"})]),action:C(()=>[m(O,{flat:"",color:"red",label:"Dismiss","no-caps":"",onClick:i[0]||(i[0]=_=>q(a).error=null)})]),default:C(()=>[E(" "+T(q(a).error)+" ",1)]),_:1})):M("",!0),q(a).success?(x(),Z(me,{key:1,rounded:"",class:"bg-green-50 text-green-700 mb-6 shadow-sm"},{avatar:C(()=>[m(N,{name:"check_circle",color:"green"})]),action:C(()=>[m(O,{flat:"",color:"green",label:"Dismiss","no-caps":"",onClick:i[1]||(i[1]=_=>q(a).success=null)})]),default:C(()=>[E(" "+T(q(a).success)+" ",1)]),_:1})):M("",!0),t("div",qt,[(x(),Z(Oe,null,[(x(),Z(Ne(b.value),{onNextStep:g,onPrevStep:h,key:r.value,"redirect-url":p.value},null,40,["redirect-url"]))],1024))])]))}};var ns=oe(Gt,[["__scopeId","data-v-09fcc660"]]);export{ns as default};
